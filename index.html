<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>武侠语音 - 中国风展示</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+QingKe+HuangYou&family=ZCOOL+XiaoWei&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'ZCOOL XiaoWei', serif;
            background: #1a0f0f url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M0,0 L100,0 L100,100 Z" fill="%23d4af37" opacity="0.05"/><path d="M0,0 L0,100 L100,100 Z" fill="%23a52a2a" opacity="0.05"/></svg>');
            color: #f5e6ca;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
        }
        
        /* 顶部传统装饰 */
        .top-border {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: linear-gradient(90deg, #d4af37, #a52a2a, #d4af37);
            z-index: 100;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
        }
        
        .top-border::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 20" xmlns="http://www.w3.org/2000/svg"><path d="M0,10 C20,0 40,20 60,10 C80,0 100,20 100,20 L100,0 L0,0 Z" fill="%231a0f0f"/></svg>');
        }
        
        /* 主体容器 */
        .container {
            max-width: 900px;
            width: 90%;
            margin: 50px auto;
            padding: 40px 30px;
            background: rgba(26, 15, 15, 0.9);
            border-radius: 2px;
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.2);
            border: 2px solid #d4af37;
            position: relative;
            z-index: 10;
            border-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100" height="100" fill="none" stroke="%23d4af37" stroke-width="4" stroke-dasharray="10,5"/></svg>') 2 stretch;
        }
        
        /* 卷轴效果 */
        .scroll-left, .scroll-right {
            position: absolute;
            top: 0;
            width: 60px;
            height: 100%;
            background: #8b4513;
            z-index: -1;
            border-radius: 30px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
        }
        
        .scroll-left {
            left: -30px;
            border-right: 3px solid #654321;
        }
        
        .scroll-right {
            right: -30px;
            border-left: 3px solid #654321;
        }
        
        .scroll-left::before, .scroll-right::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 80%;
            background: linear-gradient(to bottom, #d4af37, #8b4513, #d4af37);
            border-radius: 10px;
        }
        
        /* 标题样式 */
        .title-container {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            padding-bottom: 20px;
        }
        
        .title-container::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 20%;
            width: 60%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #d4af37, #a52a2a, #d4af37, transparent);
        }
        
        h1 {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 4.2rem;
            color: #d4af37;
            text-shadow: 5px 5px 0 #8b0000, 10px 10px 10px rgba(0, 0, 0, 0.7);
            margin-bottom: 10px;
            letter-spacing: 10px;
        }
        
        .subtitle {
            font-size: 1.8rem;
            color: #f5e6ca;
            letter-spacing: 5px;
            font-weight: normal;
        }
        
        /* 汉字展示区 */
        .character-display {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 50px 0;
            position: relative;
        }
        
        .character-card {
            width: 250px;
            height: 320px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="250" height="320" viewBox="0 0 250 320"><rect x="5" y="5" width="240" height="310" rx="5" fill="%231a0f0f" stroke="%23d4af37" stroke-width="2"/><rect x="10" y="10" width="230" height="300" rx="2" fill="url(%23paper)"/><defs><pattern id="paper" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect width="20" height="20" fill="%231a0f0f"/><path d="M0,20 L20,0" stroke="%23332222" stroke-width="0.5"/></pattern></defs></svg>');
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            transition: all 0.5s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .character-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg width="250" height="320" xmlns="http://www.w3.org/2000/svg"><defs><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="3" result="noise"/><feColorMatrix in="noise" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.1 0"/></filter></defs><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.1"/></svg>');
            pointer-events: none;
        }
        
        .character-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4);
        }
        
        .character {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 12rem;
            color: #8b0000;
            text-shadow: 5px 5px 0 #1a0f0f, 10px 10px 5px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        
        .character-name {
            font-size: 1.8rem;
            color: #d4af37;
            letter-spacing: 3px;
        }
        
        .pinyin {
            font-size: 1.5rem;
            color: #f5e6ca;
            margin-top: 5px;
            letter-spacing: 2px;
        }
        
        /* 按钮区域 */
        .controls {
            margin: 40px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }
        
        .btn {
            background: linear-gradient(to bottom, #8b4513, #654321);
            color: #f5e6ca;
            border: none;
            padding: 18px 35px;
            font-size: 1.4rem;
            font-family: 'ZCOOL XiaoWei', serif;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            letter-spacing: 3px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.4), transparent);
            transition: all 0.6s ease;
            z-index: -1;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.5);
            background: linear-gradient(to bottom, #a0522d, #8b4513);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-primary {
            background: linear-gradient(to bottom, #a52a2a, #8b0000);
        }
        
        .btn-primary:hover {
            background: linear-gradient(to bottom, #c0392b, #a52a2a);
        }
        
        /* 语音控制区域 */
        .audio-controls {
            margin: 40px 0;
            padding: 25px;
            background: rgba(34, 17, 17, 0.8);
            border-radius: 2px;
            border: 1px solid #654321;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.7);
        }
        
        .control-group {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }
        
        .control-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 150px;
        }
        
        .control-label {
            font-size: 1.3rem;
            color: #d4af37;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }
        
        .slider-container {
            width: 100%;
            position: relative;
        }
        
        input[type="range"] {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #8b0000, #d4af37);
            border-radius: 5px;
            outline: none;
            border: 1px solid #654321;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #f5e6ca;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
            border: 2px solid #d4af37;
        }
        
        .slider-value {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: #8b0000;
            color: #f5e6ca;
            padding: 3px 10px;
            border-radius: 3px;
            font-size: 1rem;
            border: 1px solid #d4af37;
            min-width: 40px;
            text-align: center;
        }
        
        /* 状态显示 */
        .status-box {
            margin-top: 30px;
            padding: 20px;
            background: rgba(26, 15, 15, 0.9);
            border: 1px solid #654321;
            border-radius: 2px;
            text-align: center;
        }
        
        .status-title {
            font-size: 1.5rem;
            color: #d4af37;
            margin-bottom: 15px;
            letter-spacing: 3px;
        }
        
        #status {
            font-size: 1.3rem;
            color: #f5e6ca;
            min-height: 30px;
            padding: 10px;
            border-radius: 2px;
            background: rgba(52, 26, 26, 0.8);
            transition: all 0.3s ease;
        }
        
        /* 底部装饰 */
        .bottom-border {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: linear-gradient(90deg, #d4af37, #a52a2a, #d4af37);
            z-index: 100;
            box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.5);
        }
        
        .bottom-border::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 20" xmlns="http://www.w3.org/2000/svg"><path d="M0,10 C20,20 40,0 60,10 C80,20 100,0 100,0 L100,20 L0,20 Z" fill="%231a0f0f"/></svg>');
        }
        
        /* 装饰元素 */
        .decoration {
            position: absolute;
            z-index: 5;
            opacity: 0.3;
            pointer-events: none;
        }
        
        .decoration-1 {
            top: 10%;
            left: 5%;
            font-size: 4rem;
            color: #d4af37;
            transform: rotate(-15deg);
        }
        
        .decoration-2 {
            top: 15%;
            right: 5%;
            font-size: 3rem;
            color: #8b0000;
            transform: rotate(10deg);
        }
        
        .decoration-3 {
            bottom: 20%;
            left: 8%;
            font-size: 3.5rem;
            color: #654321;
            transform: rotate(20deg);
        }
        
        .decoration-4 {
            bottom: 25%;
            right: 8%;
            font-size: 4rem;
            color: #a52a2a;
            transform: rotate(-10deg);
        }
        
        .yin-yang {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle at 50% 25%, #1a0f0f 25%, #f5e6ca 25%, #f5e6ca 50%, transparent 50%), 
                        radial-gradient(circle at 50% 75%, #f5e6ca 25%, #1a0f0f 25%, #1a0f0f 50%, transparent 50%);
            border-radius: 50%;
            border: 2px solid #d4af37;
            opacity: 0.1;
            z-index: 1;
        }
        
        /* 响应式设计 */
        @media (max-width: 992px) {
            .character-display {
                gap: 30px;
            }
            
            .character-card {
                width: 200px;
                height: 280px;
            }
            
            .character {
                font-size: 9rem;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 3rem;
                letter-spacing: 5px;
            }
            
            .character-display {
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }
            
            .character-card {
                width: 220px;
                height: 280px;
            }
            
            .control-group {
                flex-direction: column;
                gap: 20px;
            }
            
            .control-item {
                width: 100%;
                max-width: 300px;
            }
            
            .btn {
                padding: 15px 25px;
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
                width: 95%;
            }
            
            h1 {
                font-size: 2.5rem;
                letter-spacing: 3px;
            }
            
            .subtitle {
                font-size: 1.4rem;
            }
            
            .controls {
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .scroll-left, .scroll-right {
                display: none;
            }
        }
        
        /* 水墨动画 */
        @keyframes ink-spread {
            0% { transform: scale(0); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        .ink-effect {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle, #1a0f0f, transparent);
            animation: ink-spread 1s ease-out;
            pointer-events: none;
            z-index: 2;
        }
        
        /* 印章样式 */
        .seal {
            position: absolute;
            bottom: 20px;
            right: 30px;
            width: 80px;
            height: 80px;
            background: #8b0000;
            border-radius: 5px;
            transform: rotate(5deg);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #d4af37;
            opacity: 0.8;
        }
        
        .seal-text {
            font-family: 'ZCOOL XiaoWei', serif;
            color: #f5e6ca;
            font-size: 0.8rem;
            writing-mode: vertical-rl;
            text-orientation: upright;
            letter-spacing: 5px;
        }
    </style>
</head>
<body>
    <!-- 顶部装饰 -->
    <div class="top-border"></div>
    
    <!-- 装饰元素 -->
    <div class="decoration decoration-1">卐</div>
    <div class="decoration decoration-2">㊎</div>
    <div class="decoration decoration-3">卍</div>
    <div class="decoration decoration-4">㊖</div>
    <div class="yin-yang"></div>
    
    <!-- 卷轴装饰 -->
    <div class="scroll-left"></div>
    <div class="scroll-right"></div>
    
    <!-- 主体内容 -->
    <div class="container">
        <!-- 标题区 -->
        <div class="title-container">
            <h1>武侠语音</h1>
            <div class="subtitle">聆听中国武侠文化之魂</div>
        </div>
        
        <!-- 汉字展示区 -->
        <div class="character-display">
            <div class="character-card" id="characterWu">
                <div class="character">武</div>
                <div class="character-name">武</div>
                <div class="pinyin">wǔ</div>
            </div>
            
            <div class="character-card" id="characterXia">
                <div class="character">侠</div>
                <div class="character-name">侠</div>
                <div class="pinyin">xiá</div>
            </div>
        </div>
        
        <!-- 按钮控制区 -->
        <div class="controls">
            <button class="btn btn-primary" id="speakBtn">
                <i class="fas fa-volume-up"></i> 朗读"武侠"
            </button>
            <button class="btn" id="slowSpeakBtn">
                <i class="fas fa-tachometer-alt"></i> 慢速朗读
            </button>
            <button class="btn" id="explainBtn">
                <i class="fas fa-book"></i> 武侠释义
            </button>
            <button class="btn" id="classicBtn">
                <i class="fas fa-landmark"></i> 经典台词
            </button>
        </div>
        
        <!-- 语音控制区 -->
        <div class="audio-controls">
            <div class="control-group">
                <div class="control-item">
                    <div class="control-label">音量</div>
                    <div class="slider-container">
                        <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0.8">
                        <div class="slider-value" id="volumeValue">80%</div>
                    </div>
                </div>
                
                <div class="control-item">
                    <div class="control-label">语速</div>
                    <div class="slider-container">
                        <input type="range" id="rateSlider" min="0.5" max="2" step="0.1" value="1">
                        <div class="slider-value" id="rateValue">1.0x</div>
                    </div>
                </div>
                
                <div class="control-item">
                    <div class="control-label">音调</div>
                    <div class="slider-container">
                        <input type="range" id="pitchSlider" min="0.5" max="1.5" step="0.1" value="1">
                        <div class="slider-value" id="pitchValue">1.0</div>
                    </div>
                </div>
            </div>
            
            <div class="status-box">
                <div class="status-title">语音状态</div>
                <div id="status">准备就绪，请点击上方按钮开始聆听</div>
            </div>
        </div>
        
        <!-- 印章 -->
        <div class="seal">
            <div class="seal-text">武 侠</div>
        </div>
    </div>
    
    <!-- 底部装饰 -->
    <div class="bottom-border"></div>
    
    <!-- 水墨动画容器 -->
    <div id="inkContainer"></div>
    
    <script>
        // 获取DOM元素
        const speakBtn = document.getElementById('speakBtn');
        const slowSpeakBtn = document.getElementById('slowSpeakBtn');
        const explainBtn = document.getElementById('explainBtn');
        const classicBtn = document.getElementById('classicBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const rateSlider = document.getElementById('rateSlider');
        const pitchSlider = document.getElementById('pitchSlider');
        const volumeValue = document.getElementById('volumeValue');
        const rateValue = document.getElementById('rateValue');
        const pitchValue = document.getElementById('pitchValue');
        const statusEl = document.getElementById('status');
        const characterWu = document.getElementById('characterWu');
        const characterXia = document.getElementById('characterXia');
        const inkContainer = document.getElementById('inkContainer');
        
        // 检查浏览器是否支持语音合成
        if (!('speechSynthesis' in window)) {
            statusEl.textContent = "您的浏览器不支持语音合成功能，请使用Chrome、Edge或Safari浏览器。";
            statusEl.style.color = "#8b0000";
            speakBtn.disabled = true;
            slowSpeakBtn.disabled = true;
            explainBtn.disabled = true;
            classicBtn.disabled = true;
        }
        
        // 水墨动画效果
        function createInkEffect(x, y) {
            const ink = document.createElement('div');
            ink.className = 'ink-effect';
            ink.style.left = `${x}px`;
            ink.style.top = `${y}px`;
            inkContainer.appendChild(ink);
            
            // 动画结束后移除元素
            setTimeout(() => {
                ink.remove();
            }, 1000);
        }
        
        // 添加水墨效果到按钮点击
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                createInkEffect(x, y);
            });
        });
        
        // 汉字卡片点击效果
        characterWu.addEventListener('click', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            createInkEffect(x, y);
            speakText('武', 1);
        });
        
        characterXia.addEventListener('click', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            createInkEffect(x, y);
            speakText('侠', 1);
        });
        
        // 更新滑块显示值
        volumeSlider.addEventListener('input', function() {
            volumeValue.textContent = `${Math.round(this.value * 100)}%`;
        });
        
        rateSlider.addEventListener('input', function() {
            rateValue.textContent = `${this.value}x`;
        });
        
        pitchSlider.addEventListener('input', function() {
            pitchValue.textContent = this.value;
        });
        
        // 语音合成函数
        function speakText(text, rate = null, pitch = null) {
            // 停止当前正在进行的语音
            window.speechSynthesis.cancel();
            
            // 创建语音实例
            const utterance = new SpeechSynthesisUtterance();
            utterance.text = text;
            utterance.lang = 'zh-CN';
            utterance.volume = parseFloat(volumeSlider.value);
            utterance.rate = rate !== null ? rate : parseFloat(rateSlider.value);
            utterance.pitch = pitch !== null ? pitch : parseFloat(pitchSlider.value);
            
            // 开始朗读时添加视觉反馈
            utterance.onstart = function() {
                statusEl.textContent = `正在朗读: "${text}"`;
                statusEl.style.color = "#d4af37";
                statusEl.style.backgroundColor = "rgba(139, 0, 0, 0.5)";
                
                // 高亮对应的汉字卡片
                if (text === '武') {
                    characterWu.style.transform = 'translateY(-10px) scale(1.05)';
                    characterWu.style.boxShadow = '0 20px 50px rgba(212, 175, 55, 0.6)';
                } else if (text === '侠') {
                    characterXia.style.transform = 'translateY(-10px) scale(1.05)';
                    characterXia.style.boxShadow = '0 20px 50px rgba(212, 175, 55, 0.6)';
                } else if (text === '武侠') {
                    characterWu.style.transform = 'translateY(-10px) scale(1.05)';
                    characterWu.style.boxShadow = '0 20px 50px rgba(212, 175, 55, 0.6)';
                    characterXia.style.transform = 'translateY(-10px) scale(1.05)';
                    characterXia.style.boxShadow = '0 20px 50px rgba(212, 175, 55, 0.6)';
                }
            };
            
            // 朗读结束时恢复状态
            utterance.onend = function() {
                statusEl.textContent = `朗读完成: "${text}"`;
                statusEl.style.color = "#f5e6ca";
                statusEl.style.backgroundColor = "rgba(52, 26, 26, 0.8)";
                
                // 恢复汉字卡片样式
                characterWu.style.transform = '';
                characterWu.style.boxShadow = '';
                characterXia.style.transform = '';
                characterXia.style.boxShadow = '';
            };
            
            // 错误处理
            utterance.onerror = function(event) {
                statusEl.textContent = `朗读出错: ${event.error}`;
                statusEl.style.color = "#8b0000";
                statusEl.style.backgroundColor = "rgba(52, 26, 26, 0.8)";
                
                // 恢复汉字卡片样式
                characterWu.style.transform = '';
                characterWu.style.boxShadow = '';
                characterXia.style.transform = '';
                characterXia.style.boxShadow = '';
            };
            
            // 开始朗读
            window.speechSynthesis.speak(utterance);
        }
        
        // 按钮事件监听
        speakBtn.addEventListener('click', () => {
            speakText('武侠');
        });
        
        slowSpeakBtn.addEventListener('click', () => {
            speakText('武侠', 0.7);
        });
        
        explainBtn.addEventListener('click', () => {
            speakText('武侠，指身怀武艺、见义勇为、舍己助人的人。在中国文化中，武侠代表正义、勇气和侠义精神，是中华传统文化的重要组成部分。', 0.9);
        });
        
        classicBtn.addEventListener('click', () => {
            const quotes = [
                '侠之大者，为国为民。',
                '有人的地方就有江湖。',
                '武林至尊，宝刀屠龙。号令天下，莫敢不从。',
                '天下风云出我辈，一入江湖岁月催。'
            ];
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            speakText(randomQuote);
        });
        
        // 键盘快捷键
        document.addEventListener('keydown', (event) => {
            // 按空格键或回车键朗读"武侠"
            if (event.code === 'Space' || event.code === 'Enter') {
                event.preventDefault();
                speakText('武侠');
            }
            
            // 按W键朗读"武"
            if (event.code === 'KeyW') {
                speakText('武');
            }
            
            // 按X键朗读"侠"
            if (event.code === 'KeyX') {
                speakText('侠');
            }
            
            // 按E键解释含义
            if (event.code === 'KeyE') {
                speakText('武侠，指身怀武艺、见义勇为、舍己助人的人。在中国文化中，武侠代表正义、勇气和侠义精神。', 0.9);
            }
        });
        
        // 检查语音支持
        function checkSpeechSupport() {
            const voices = window.speechSynthesis.getVoices();
            if (voices.length === 0) {
                statusEl.textContent = "正在加载语音引擎...";
                setTimeout(() => {
                    const voices = window.speechSynthesis.getVoices();
                    if (voices.length > 0) {
                        statusEl.textContent = "语音引擎加载完成，请点击按钮开始聆听";
                        statusEl.style.color = "#d4af37";
                    } else {
                        statusEl.textContent = "无法加载语音引擎，请确保浏览器支持语音合成";
                        statusEl.style.color = "#8b0000";
                    }
                }, 500);
            }
        }
        
        // 页面加载时显示欢迎信息
        window.addEventListener('load', () => {
            setTimeout(() => {
                statusEl.textContent = "欢迎使用武侠语音展示，请点击按钮或使用快捷键(W/X/E/空格键)开始体验";
                statusEl.style.color = "#d4af37";
            }, 1000);
            
            // 初始水墨效果
            setTimeout(() => {
                createInkEffect(window.innerWidth / 2, window.innerHeight / 2);
            }, 500);
        });
        
        // 某些浏览器需要此事件来加载语音
        window.speechSynthesis.onvoiceschanged = checkSpeechSupport;
        
        // 初始检查
        checkSpeechSupport();
    </script>
</body>
</html>
